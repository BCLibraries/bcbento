<!DOCTYPE html>
<html lang="en" data-ng-app="myApp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Search : Boston College Libraries</title>
    <link rel="stylesheet" href="css/app.css"/>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Asap:400,700,700italic,400italic" type="text/css">
    <link rel="stylesheet" href="css/local.css"/>

    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>

<div id="newsearch">
    <div data-searchbox>
        <form method="get" action="/search" id="bcbento-search">
            <input type="text" id="typeahead" name="any">
            <input type="submit">
        </form>
    </div>
</div>

<div id="bentoboxresults">

    <div id="didyoumean-holder"></div>

    <div id="all-results">

        <!-- Secondary results box. -->
        <div id="secondary">
            <div id="articles-results" class="result-container">
                <h3>Articles</h3>
            </div>
        </div>

        <!-- The primary results box. -->
        <div id="primary">
            <div id="catalog-results" class="result-container">
                <h3>Catalog</h3>
            </div>
        </div>

        <!-- Tertiary results box.-->
        <div id="tertiary" style="background-color: none">

            <div id="librarians-results" class="result-container librarians" style="background-color: inherit">
                <h3 id="librarianh3" style="display: none;">Librarians</h3>
            </div>

            <div id="springshare-results" class="result-container">
                <h3 id="researchh3">Research guides</h3>
            </div>

            <div id="guides-results" class="result-container guides" style="background-color: inherit">
                <h3 id="subjecth3" style="display: none">Subject guides</h3>
            </div>
        </div>

    </div>

</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="js/typeahead.bundle.min.js"></script>
<script src="js/handlebars-v3.0.0.js"></script>
<script src="js/bclib-typeahead.js"></script>
<script src="js/search.js"></script>


<!-- Search result templates -->
<script id="librarians-template" type="text/x-template">
    {{#if .}}
    <h3 class="visible-also-try">Librarians</h3>
    <ul>
        {{#.}}
        <li>
            <a href="http://libguides.bc.edu/prf.php?account_id={{id}}"><img src="//{{image}}" alt="picture of {{name}}"></a>

            <div class="librarian-info">
                <h4 class="librarian-name"><a href="http://libguides.bc.edu/prf.php?account_id={{id}}">{{name}}</a></h4>
                <p>{{display_subjects}}</p>
            </div>
        </li>
        {{/.}}
    </ul>
    {{/if}}
</script>

<script id="guides-template" type="text/x-template">
    {{#if .}}
    <h3 class="visible-also-try">Subject guides</h3>
    <ul>
        {{#.}}
        <li>
            <div><a href="{{url}}">{{title}}</a></div>
            <div class="guide-description">{{description}}</div>
        </li>
        {{/.}}
    </ul>
    {{/if}}

</script>

<script id="catalog-template" type="text/x-template">

    <div class="more-results-link">
        <a href="{{search_link}}">
            see all {{total_results}} resultsâ€¦
        </a>
    </div>

    <ul id="catalog-results bento-results">

        {{#items}}
        <li class="bento-result">

            <div class="catalog-text{{#if covers.[0]}} has-cover{{/if}}">


                <a href="{{link}}" class="title">
                    {{truncate title '100'}}
                </a>

                {{date}}

                <div class="catalog-metadata">
                    {{#if creator}}
                    <div class="creator">
                        {{truncate creator '40'}}
                    </div>
                    {{/if}}

                    {{^creator}}
                    {{#if contributors.[0]}}
                    <div class="creator">
                        {{truncate contributors.[0] '40'}}
                    </div>
                    {{/if}}
                    {{/creator}}

                    {{^creator}}
                    {{^contributor}}
                    <div class="publisher">
                        {{publisher}} {{date}}
                    </div>
                    {{/contributor}}
                    {{/creator}}

                    <div class="type">{{type}}</div>
                    <ul class="available-items">
                        {{#avail}}
                        <li class="item-info {{#unless on_shelf}}unavailable{{/unless}}">
                            <span class="library">{{lib_display}}</span>
                            {{#if in_library_only }}
                            <span class="location">{{full/location}}</span>
                            {{/if}}
                            <span class="callno">{{call_number}}</span>
                            <span class="availability">{{availability}}</span>
                        </li>
                        {{/avail}}
                    </ul>
                    {{#if getit}}
                    <div class="available-online"><a href="{{link}}">Available online</a></div>
                    {{/if}}
                </div>
            </div>

            {{#if covers.[0]}}
            <img src="{{covers.[0]}}" class="cover-image">
            {{/if}}

        </li>
        {{/items}}
    </ul>

    {{#if worldcat_results}}
    <div class="worldcat-results">
        <p>The following items were found at other libraries:</p>
        <ul>
            {{#worldcat_results}}
            <li>
                <a href="{{url}}" class="title">
                    {{truncate name '100'}}
                </a>

                <div class="creator">
                    {{truncate creator '40'}}
                </div>
            </li>
            {{/worldcat_results}}
        </ul>
    </div>
    {{/if}}


</script>


<script id="springshare-template" type="text/x-template">
    <ul>
        {{#items}}
        <li>
            <div><a href="{{url}}" class="title">{{title}}</a></div>
            <div class="guide-description">{{description}}</div>
        </li>
        {{/items}}
    </ul>
</script>

<script id="articles-template" type="text/x-template">
    <div class="more-results-link">
        <a href="{{search_link}}">
            see all {{total_results}} results
        </a>
    </div>

    <ul>
        {{#items}}
        <li class="bento-result">

            <a href="{{link}}" class="title">
                {{truncate title '100'}}
            </a>

            {{date}}

            {{#if creator}}
            <div class="creator">{{truncate creator '80'}}</div>
            {{/if}}
            <div class="publisher">{{{part_of}}}</div>
        </li>
        {{/items}}
    </ul>
</script>

<script id="dym-template" type="text/x-template">
    {{#if dym}}
    <div class="dym-notice">
        Did you mean <a href="/search?any={{dym}}">{{dym}}</a>?
    </div>
    {{/if}}

</script>


</body>
</html>
