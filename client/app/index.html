<!DOCTYPE html>
<html lang="en" data-ng-app="myApp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Search : Boston College Libraries</title>
    <link rel="stylesheet" href="css/app.css"/>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Asap:400,700,700italic,400italic" type="text/css">
    <link rel="stylesheet" href="css/local.css"/>

    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>

<div id="newsearch">
    <div data-searchbox>
        <form method="get" action="/search" id="bcbento-search">
            <input type="text" id="typeahead" name="any">
            <input type="submit">
        </form>
    </div>
</div>

<div id="bentoboxresults">

    <div id="all-results">

        <!-- Secondary results box. -->
        <div id="secondary">
            <div id="articles-results" class="result-container"></div>
        </div>

        <!-- The primary results box. -->
        <div id="primary">
            <div id="catalog-results" class="result-container"></div>
        </div>

        <!-- Tertiary results box.-->
        <div id="tertiary">
            <div id="librarians-results" class="result-container librarians"></div>
            <div id="guides-results" class="result-container guides"></div>
            <ng-include src="'partials/extra-results.html'"></ng-include>
        </div>

    </div>

</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="js/typeahead.bundle.min.js"></script>
<script src="js/handlebars-v3.0.0.js"></script>
<script src="js/bclib-typeahead.js"></script>
<script src="js/search.js"></script>


<!-- Search result templates -->
<script id="librarians-template" type="text/x-template">
    <h3>Librarians</h3>
    <ul>
        {{#.}}
        <li>
            <img src="//{{image}}" alt="picture of {{name}}">

            <div class="librarian-info">
                <h4 class="librarian-name">{{name}}</h4>
                {{#subjects}}
                <div class="librarian-subject">{{term}}</div>
                {{/subjects}}
            </div>
        </li>
        {{/.}}
    </ul>
</script>

<script id="guides-template" type="text/x-template">
    <h3>Subject guides</h3>
    <ul>
        {{#.}}
        <li>
            <div><a href="{{url}}">{{title}}</a></div>
            <div class="guide-description">{{description}}</div>
        </li>
        {{/.}}
    </ul>

</script>

<script id="catalog-template" type="text/x-template">
    <h3>Catalog</h3>

    <div class="more-results-link">
        <a href="{{search_link}}">
            see all {{total_results}} results…
        </a>
    </div>

    <ul id="catalog-results">

        {{#items}}
        <li class="bento-result">
            {{#if covers.[0]}}
            <img src="{{covers.[0]}}" class="cover-image">
            {{/if}}

            <div class="catalog-text{{#if covers.[0]}} has-cover{{/if}}">


                <a href="{{link}}" class="title">
                    {{truncate '100' title}}
                </a>

                {{date}}

                <span class="down-caret">&#9660;</span>

                <div class="catalog-metadata">
                    {{#if creator}}
                    <div class="creator">
                        {{truncate '40' creator}}
                    </div>
                    {{/if}}

                    {{^creator}}
                    {{#if contributors.[0]}}
                    <div class="creator">
                        {{truncate '40' contributors.[0]}}
                    </div>
                    {{/if}}
                    {{/creator}}

                    {{^creator}}
                    {{^contributor}}
                    <div class="publisher">
                        {{publisher}} {{date}}
                    </div>
                    {{/contributor}}
                    {{/creator}}

                    <div class="type">{{type}}</div>
                    <ul class="available-items">
                        {{#avail}}
                        <li class="item-info">
                            <span class="library">{{library}}</span>
                            <span class="callno">{{call_number}}</span>
                            <span class="availability">{{availability}}</span>
                        </li>
                        {{/avail}}
                    </ul>
                </div>
            </div>
        </li>
        {{/items}}
    </ul>

</script>

<script id="articles-template" type="text/x-template">
    <h3>Articles</h3>

    <div class="more-results-link">
        <a href="{{search_link}}">
            see all {{total_results}} results…
        </a>
    </div>

    <ul>
        {{#items}}
        <li>

            <a href="{{link}}" class="title">
                {{truncate '100' title}}
            </a>

            {{date}}

            <div class="result-tools">
                <p>Placeholder for result tools (email, SMS, etc).</p>
            </div>

            {{#if creator}}
            <div class="creator">{{truncate '80' creator}}</div>
            {{/if}}
            <div class="publisher">{{part_of}}</div>
            <div class="source">{{source}}</div>
            <div class="type">{{type}}</div>
        </li>
        {{/items}}
    </ul>
</script>


</body>
</html>
