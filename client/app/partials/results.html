<div id="all-results" data-ng-controller="bento">
    <!-- The primary results box. -->
    <div id="primary">

        <!-- Catalog -->
        <div class="result-container" data-ng-class="{loading: ! catalog_results} ">
            <h3>Catalog</h3>

            <div class="more-results-link" data-ng-show="catalog_results">
                <a href="{{catalog_results.search_link}}">
                    {{catalog_results.total_results}} results
                </a>
            </div>

            <ul data-ng-show="catalog_results">

                <!-- Template for one catalog item. -->
                <li data-ng-repeat="result in catalog_results.items" class="catalog-result" data-ng-class-odd="'odd'">
                    <div class="cover-image" data-ng-if="result.covers[0]"><img src="{{result.covers[0]}}"></div>
                    <a href="http://{{result.link}}" class="title">{{result.title}}</a>

                    <div class="catalog-metadata">
                        <div class="creator" data-ng-if="result.creator">{{result.creator}}</div>
                        <div class="creator"
                             data-ng-if="! result.creator">{{result.contributors[0].truncate(100)}}
                        </div>
                        <div class="publisher"
                             data-ng-if="result.publisher">{{result.publisher}} {{result.date}}
                        </div>
                        <div class="type">{{result.type}}</div>
                        <ul class="available-items">
                            <li class="item-info" data-ng-repeat="avail in result.avail">
                                <span class="library">{{ avail.library }}</span> <span class="callno">{{avail.call_number}}</span>
                                <span class="availability">{{avail.availability}}</span>
                            </li>
                        </ul>
                        <span data-ng-if="result.electronic">Electronic version available</span>
                        <span data-ng-if="result.physical">Physical version available</span>

                    </div>
            </ul>
        </div>
    </div>

    <!-- Secondary results box. -->
    <div id="secondary">

        <!-- Articles -->
        <div class="result-container" data-ng-class="{loading: ! articles_results}">
            <h3>Articles</h3>

            <div class="more-results-link" data-ng-show="catalog_results">
                <a href="{{articles_results.search_link}}">
                    {{articles_results.total_results}} results
                </a>
            </div>

            <ul data-ng-show="articles_results">

                <!-- Template for one article. -->
                <li data-ng-repeat="result in articles_results.items" data-ng-class-odd="'odd'"><a
                        href="{{result.link}}"
                        class="title">{{result.title}}</a>

                    <div class="creator" data-ng-if="result.creator">{{result.creator}}</div>
                    <div class="publisher" data-ng-if="result.part_of">{{result.part_of}}</div>
                    <div class="source" data-ng-if="! result.part_of">{{result.source}}</div>
                    <div class="type">{{result.dis}}</div>
                </li>

            </ul>
        </div>

        <div class="result-container worldcat" data-ng-class="{loading: ! worldcat_results}">
            <h3>At other libraries</h3>
            <ul data-ng-show="worldcat_results">
                <li data-ng-repeat="result in worldcat_results" data-ng-class-odd="'odd'">
                    <a class="title" href="{{result.url}}">{{result.name}}</a>

                    <div class="creator">{{result.creator}}</div> {{result.type}}
                </li>
            </ul>

        </div>

        <!-- Random results... -->
        <div class="result-container outside" data-ng-class="{loading: ! dpla_results} ">
            <h3>Outside BC</h3>

            <div class="outside-result" data-ng-show="dpla_results"><a href="{{dpla_results.link}}">{{dpla_results.total}}
                results</a> at the <strong>DPLA</strong></div>
        </div>

    </div>


    <!-- Tertiary results box.-->
    <div id="tertiary">

        <!-- Librarians -->
        <div class="result-container librarians" data-ng-class="{loading: ! librarians_results} ">
            <h3>Librarians</h3>

            <ul data-ng-show="librarians_results" data-ng-repeat="result in librarians_results">

                <!-- Template for one librarian. -->
                <li>
                    <img src="//{{result.image}}" alt="picture of {{result.name}}">
                    <h4 class="librarian-name">{{result.name}}</h4>

                    <div class="librarian-subject" data-ng-repeat="subject in result.subjects">{{subject.term}}</div>
                </li>
            </ul>
        </div>

        <!-- Subject guides -->
        <div class="result-container guides" data-ng-class="{loading: ! guides_results} ">
            <h3>Subject guides</h3>
            <ul data-ng-show="guides_results">

                <!-- Template for one LibGuide. -->
                <li data-ng-repeat="result in guides_results">
                    <div><a href="{{result.url}}">{{result.title}}</a></div>
                    <div class="guide-description">{{result.description}}</div>
                </li>
            </ul>
        </div>

    </div>
</div>